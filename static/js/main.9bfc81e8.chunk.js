(this["webpackJsonpgithub-issue-tracker"]=this["webpackJsonpgithub-issue-tracker"]||[]).push([[0],{198:function(e,r,n){},200:function(e,r,n){},207:function(e,r,n){},208:function(e,r,n){},209:function(e,r,n){},211:function(e,r,n){"use strict";n.r(r);var t=n(0),a=n.n(t),c=n(18),s=n.n(c),o=n(48),i=n(26),d="START_SEARCH_REPOS",l="SEARCH_REPOS_SUCCESS",j="SEARCH_REPOS_FAIL",u="FETCH_ISSUE_START",h="FETCH_ISSUE_SUCCESS",b="FETCH_ISSUE_FAIL",p={loading:!0,error:null,issues:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case u:return Object(i.a)({},e);case h:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,issues:r.payload});case b:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:r.payload});default:return e}},x={loading:!0,error:null,repos:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case d:return Object(i.a)({},e);case l:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,repos:r.payload});case j:return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:r.payload});default:return e}},v=(0,n(48).combineReducers)({searchRes:g,issuesRes:O}),f=n(67),m=n(147),_=n(105),y=n(243),S=n(154),E=n.n(S),R=n(83),C=n.n(R),N=n(123),T=n(124),w=n.n(T),A=n(242),I=n(245),H=n(250),k=n(251),D=n(151),M=n.n(D),L=n(152),F=n.n(L),P=n(153),U=n.n(P),q=n(247),z=n(148),Y=n.n(z),B=n(246),G=n(3);var J=function(e){var r=e.issues,n=e.loading;return Object(G.jsx)("div",{children:n?Object(G.jsx)("div",{children:Object(G.jsx)("h3",{children:"Loading ..."})}):r.map((function(e,r){return Object(G.jsx)(B.a,{children:Object(G.jsxs)(B.a.Item,{children:[Object(G.jsx)(B.a.Icon,{name:"github",size:"large",verticalAlign:"middle"}),Object(G.jsxs)(B.a.Content,{children:[Object(G.jsx)(B.a.Header,{as:"a",children:e.title}),Object(G.jsxs)(B.a.Description,{as:"a",children:["Created: ",(n=e.createdAt,Y()(n,"YYYYMMDD").fromNow())]})]})]})});var n}))})};var X=Object(f.b)((function(e){return{loading:e.issuesRes.loading,error:e.issuesRes.error,issues:e.issuesRes.issues}}),{fetchIssue:function(e){return function(){var r=Object(N.a)(C.a.mark((function r(n){var t;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:u,payload:{}}),r.next=4,w.a.post("https://api.github.com/graphql",{query:e},{headers:{Authorization:"bearer ".concat("2b75542a195a252a4cf2c008eda566ac6761a214")}});case 4:t=r.sent,n({type:h,payload:t.data.data.repository.issues}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),n({type:b,payload:r.t0.message}),console.log(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var r=e.repoName,n=e.owner,a=e.fetchIssue,c=e.issues,s=e.loading;return Object(t.useEffect)((function(){a(function(e,r){return'{\n            repository(name: "'.concat(e,'", owner: "').concat(r,'") {\n                issues(first: 20, states: [OPEN], orderBy: {field: CREATED_AT, direction: DESC}) {\n                    nodes {\n                        title,\n                        bodyHTML,\n                        createdAt\n                    }\n                }\n            }\n    }')}(r,n))}),[]),Object(G.jsxs)("div",{children:[Object(G.jsx)("h3",{style:{textAlign:"centre",color:"green"},children:"Issues"}),Object(G.jsx)(J,{issues:c.nodes,loading:s})]})}));n(198);var V=function(e){var r=e.repo,n=e.expanded,t=e.onToggled,a=r.node,c=a.name,s=a.descriptionHTML,o=a.owner.login,i=a.stargazers.totalCount;return Object(G.jsx)("div",{className:"card__container",children:Object(G.jsx)(q.a,{color:"green",className:"card",children:Object(G.jsxs)(I.a,{expanded:n,onChange:t,children:[Object(G.jsx)(H.a,{children:Object(G.jsxs)(q.a.Content,{className:"expand__panel",children:[Object(G.jsxs)("div",{className:"repo__header",children:[Object(G.jsx)(q.a.Header,{children:Object(G.jsx)("h2",{children:c})}),Object(G.jsxs)("div",{children:[Object(G.jsx)(k.a,{label:"By ".concat(o),avatar:Object(G.jsx)(M.a,{}),className:"chip"}),Object(G.jsx)(k.a,{label:i,avatar:Object(G.jsx)(F.a,{}),className:"chip"})]})]}),Object(G.jsx)(q.a.Description,{className:"repoDesc",children:Object(G.jsx)("p",{className:"repo__description",dangerouslySetInnerHTML:{__html:s}})}),Object(G.jsx)("div",{className:"expandIcon",children:Object(G.jsx)(U.a,{})})]})}),Object(G.jsx)(A.a,{children:n&&Object(G.jsx)(X,{repoName:c,owner:o})})]})})})},W=(n(200),Object(f.b)((function(e){return{loading:e.searchRes.loading,error:e.searchRes.error,repos:e.searchRes.repos}}),{searchRepo:function(e){return function(){var r=Object(N.a)(C.a.mark((function r(n){var t;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:d,payload:{}}),r.next=4,w.a.post("https://api.github.com/graphql",{query:e},{headers:{Authorization:"bearer ".concat("2b75542a195a252a4cf2c008eda566ac6761a214")}});case 4:t=r.sent,n({type:l,payload:t.data.data}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),n({type:j,payload:r.t0.message}),console.log(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var r=Object(t.useState)(null),n=Object(_.a)(r,2),a=n[0],c=n[1];return Object(t.useEffect)((function(){var r;e.searchRepo((r=e.searchTerm?e.searchTerm:"javascript",'{\n            search(query: "'.concat(r,'", type: REPOSITORY, first: 20) {\n                repositoryCount,\n                edges {\n                    node {\n                        ... on Repository {\n                            name,\n                            owner {\n                              login  \n                            },\n                            stargazers {\n                                totalCount\n                            },\n                            descriptionHTML,\n                        }\n                    }   \n                }\n            }\n    }')))}),[e.searchTerm]),e.error?Object(G.jsx)("div",{children:Object(G.jsx)("h3",{className:"error",children:e.error})}):Object(G.jsx)("div",{children:e.loading?Object(G.jsx)("div",{className:"spinner",children:Object(G.jsx)(E.a,{})}):Object(G.jsx)("div",{children:e.repos.search.edges.map((function(e,r){return Object(G.jsx)("div",{repolist__container:!0,children:Object(G.jsx)(V,{repo:e,expanded:a===r,onToggled:function(){return c(r)}})},r)}))})})})));n(207);var K=function(){return Object(G.jsx)("div",{className:"header__container",children:Object(G.jsx)("h1",{className:"logo",children:"Github issue tracker"})})},Q=n(244);n(208);var Z=function(e){var r=e.value,n=e.onChange;return Object(G.jsx)("div",{className:"search__container",children:Object(G.jsx)(Q.a,{placeholder:"Search repo ...",className:"search",showNoResults:!1,value:r,onSearchChange:function(e){return n(e.target.value)}})})};n(209);var $=function(){return Object(G.jsx)("div",{className:"footer__container",children:Object(G.jsx)("div",{children:Object(G.jsx)("p",{children:"Github issue tracker \xa92021"})})})};var ee=function(){var e=Object(t.useState)(""),r=Object(_.a)(e,2),n=r[0],a=r[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(K,{}),Object(G.jsxs)(y.a,{maxWidth:"sm",children:[Object(G.jsx)(Z,{value:n,onChange:a}),Object(G.jsx)(W,{searchTerm:n})]}),Object(G.jsx)($,{})]})},re=(n(210),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.compose),ne=Object(o.createStore)(v,re(Object(o.applyMiddleware)(m.a)));s.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(f.a,{store:ne,children:Object(G.jsx)(ee,{})})}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.9bfc81e8.chunk.js.map